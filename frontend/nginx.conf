server {
    listen 80;
    server_name 15.207.219.160;

    root /usr/share/nginx/html;
    index index.html;

    location / {
        try_files $uri /index.html;  # Serve index.html for all unknown routes
    }

    # Handle /file and ensure it serves the file URLs correctly
    location /file {
        try_files $uri /index.html;  # Ensure /file also falls back to index.html
    }

    # Ensure URLs with query strings are handled correctly
    location ~* /file\?url= {
        # You can log or add a specific handling for query URLs if needed
        try_files $uri /index.html;
    }

    # Other static files (like images, js, css) will be served as usual
}
