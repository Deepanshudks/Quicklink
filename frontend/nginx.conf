server {
    listen 80;
    server_name 15.207.219.160;

    root /usr/share/nginx/html;
    index index.html;

    location / {
        try_files $uri /index.html;  # Serve index.html for all unknown routes
    }

    # This location block ensures that paths with query strings are handled correctly
    location /file {
        # Forward the query string to the index.html as part of the URL
        try_files $uri /index.html;
    }

    # Add a fallback route for static file serving (images, etc.)
    location ~ ^/file\?url= {
        # Allow query strings but forward them to the app
        try_files $uri /index.html;
    }
}
